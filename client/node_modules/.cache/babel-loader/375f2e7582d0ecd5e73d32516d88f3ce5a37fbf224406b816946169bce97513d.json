{"ast":null,"code":"import _slicedToArray from\"C:/Users/adiwi/dtc-admin/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import'./login.css';import{useDispatch}from\"react-redux\";import{useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{getMe,LoginUser,reset}from\"./auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,isError=_useSelector.isError,isSuccess=_useSelector.isSuccess,isLoading=_useSelector.isLoading,message=_useSelector.message;useEffect(function(){dispatch(getMe());dispatch(reset());},[],[user,isSuccess,dispatch,navigate]);useEffect(function(){console.log(isSuccess);if(user||isSuccess){console.log(isSuccess);navigate(\"/edit\");}});var Auth=function Auth(e){e.preventDefault();dispatch(LoginUser({username:username,password:password}));};return/*#__PURE__*/_jsx(\"div\",{className:\"body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login Admin\"}),isError&&/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:Auth,children:[/*#__PURE__*/_jsx(\"input\",{name:\"username\",type:\"text\",placeholder:\"username\",value:username,onChange:function onChange(event){return setUsername(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"submit\",value:\"login\"})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useNavigate","getMe","LoginUser","reset","Login","username","setUsername","password","setPassword","dispatch","navigate","state","auth","user","isError","isSuccess","isLoading","message","console","log","Auth","e","preventDefault","textAlign","event","target","value"],"sources":["C:/Users/adiwi/dtc-admin/client/src/admin/login.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport './login.css';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useSelector} from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { getMe, LoginUser, reset } from \"./auth\";\r\n\r\n\r\nexport default function Login () {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const {user, isError, isSuccess, isLoading, message} = useSelector(\r\n        (state) => state.auth\r\n    );\r\n\r\n    useEffect(() => {\r\n        dispatch(getMe());\r\n        dispatch(reset());\r\n    }, [], [user, isSuccess, dispatch, navigate]);\r\n\r\n    useEffect(() => {\r\n        console.log(isSuccess)\r\n        if(user || isSuccess) {\r\n            console.log(isSuccess);\r\n            navigate(\"/edit\");\r\n        }\r\n    })\r\n\r\n    const Auth = (e) => {\r\n        e.preventDefault();\r\n        dispatch(LoginUser({username, password}));\r\n    }\r\n\r\n    return(\r\n        <div className=\"body\">\r\n        <div className=\"login-container\">\r\n            <h1>Login Admin</h1>\r\n            {isError && <p style={{textAlign: 'center'}}>{message}</p>}\r\n            <form onSubmit={Auth}>\r\n                <input name=\"username\" type='text' placeholder='username' value={username} onChange={(event) => setUsername(event.target.value)}/>\r\n                <input name=\"password\" type='password' placeholder=\"password\" value={password} onChange={(e) => setPassword(e.target.value)}/>\r\n                <input type=\"submit\" className=\"submit\" value={\"login\"}></input>\r\n            </form>\r\n        </div>\r\n        \r\n            \r\n        </div>\r\n    )\r\n}"],"mappings":"qHAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,aAAa,CACpB,OAAQC,WAAW,KAAO,aAAa,CACvC,OAAQC,WAAW,KAAO,aAAa,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,KAAK,CAAEC,SAAS,CAAEC,KAAK,KAAQ,QAAQ,CAAC,wFAGjD,cAAe,SAASC,MAAK,EAAI,CAC7B,cAAgCP,QAAQ,CAAC,EAAE,CAAC,wCAArCQ,QAAQ,eAAEC,WAAW,eAC5B,eAAgCT,QAAQ,CAAC,EAAE,CAAC,yCAArCU,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAC9B,GAAMY,SAAQ,CAAGV,WAAW,EAAE,CAC9B,iBAAuDD,WAAW,CAC9D,SAACY,KAAK,QAAKA,MAAK,CAACC,IAAI,GACxB,CAFMC,IAAI,cAAJA,IAAI,CAAEC,OAAO,cAAPA,OAAO,CAAEC,SAAS,cAATA,SAAS,CAAEC,SAAS,cAATA,SAAS,CAAEC,OAAO,cAAPA,OAAO,CAInDrB,SAAS,CAAC,UAAM,CACZa,QAAQ,CAACR,KAAK,EAAE,CAAC,CACjBQ,QAAQ,CAACN,KAAK,EAAE,CAAC,CACrB,CAAC,CAAE,EAAE,CAAE,CAACU,IAAI,CAAEE,SAAS,CAAEN,QAAQ,CAAEC,QAAQ,CAAC,CAAC,CAE7Cd,SAAS,CAAC,UAAM,CACZsB,OAAO,CAACC,GAAG,CAACJ,SAAS,CAAC,CACtB,GAAGF,IAAI,EAAIE,SAAS,CAAE,CAClBG,OAAO,CAACC,GAAG,CAACJ,SAAS,CAAC,CACtBL,QAAQ,CAAC,OAAO,CAAC,CACrB,CACJ,CAAC,CAAC,CAEF,GAAMU,KAAI,CAAG,QAAPA,KAAI,CAAIC,CAAC,CAAK,CAChBA,CAAC,CAACC,cAAc,EAAE,CAClBb,QAAQ,CAACP,SAAS,CAAC,CAACG,QAAQ,CAARA,QAAQ,CAAEE,QAAQ,CAARA,QAAQ,CAAC,CAAC,CAAC,CAC7C,CAAC,CAED,mBACI,YAAK,SAAS,CAAC,MAAM,uBACrB,aAAK,SAAS,CAAC,iBAAiB,wBAC5B,oBAAI,aAAW,EAAK,CACnBO,OAAO,eAAI,UAAG,KAAK,CAAE,CAACS,SAAS,CAAE,QAAQ,CAAE,UAAEN,OAAO,EAAK,cAC1D,cAAM,QAAQ,CAAEG,IAAK,wBACjB,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAEf,QAAS,CAAC,QAAQ,CAAE,kBAACmB,KAAK,QAAKlB,YAAW,CAACkB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,cAClI,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAEnB,QAAS,CAAC,QAAQ,CAAE,kBAACc,CAAC,QAAKb,YAAW,CAACa,CAAC,CAACI,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,cAC9H,cAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAE,OAAQ,EAAS,GAC7D,GACL,EAGA,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}