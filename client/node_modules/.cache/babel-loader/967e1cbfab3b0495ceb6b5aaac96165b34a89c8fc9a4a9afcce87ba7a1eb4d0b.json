{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adiwi\\\\dtc-admin\\\\client\\\\src\\\\admin\\\\imageresize.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport ReactCrop from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Crop() {\n  _s();\n  const [src, setSrc] = useState(null);\n  const [crop, setCrop] = useState({\n    aspect: 16 / 9\n  });\n  const [image, setImage] = useState(null);\n  const [output, setOutput] = useState(null);\n  const selectImage = file => {\n    setSrc(URL.createObjectURL(file));\n  };\n  const cropImageNow = () => {\n    const canvas = document.createElement('canvas');\n    const scaleX = image.naturalWidth / image.width;\n    const scaleY = image.naturalHeight / image.height;\n    canvas.width = crop.width;\n    canvas.height = crop.height;\n    const ctx = canvas.getContext('2d');\n    const pixelRatio = window.devicePixelRatio;\n    canvas.width = crop.width * pixelRatio;\n    canvas.height = crop.height * pixelRatio;\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    ctx.imageSmoothingQuality = 'high';\n    ctx.drawImage(image, crop.x * scaleX, crop.y * scaleY, crop.width * scaleX, crop.height * scaleY, 0, 0, crop.width, crop.height);\n\n    // Converting to base64\n    const base64Image = canvas.toDataURL('image/jpeg');\n    setOutput(base64Image);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"center\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: e => {\n          selectImage(e.target.files[0]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: src && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(ReactCrop, {\n            src: src,\n            onImageLoaded: setImage,\n            crop: crop,\n            onChange: setCrop\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 4\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 4\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: cropImageNow,\n            children: \"Crop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 4\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 4\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 4\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 4\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: output && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: output\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 2\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 2\n  }, this);\n}\n_s(Crop, \"TQPrB20PHMRpRh24SbEDbGL0Xlc=\");\n_c = Crop;\nexport default Crop;\nvar _c;\n$RefreshReg$(_c, \"Crop\");","map":{"version":3,"names":["useState","ReactCrop","Crop","src","setSrc","crop","setCrop","aspect","image","setImage","output","setOutput","selectImage","file","URL","createObjectURL","cropImageNow","canvas","document","createElement","scaleX","naturalWidth","width","scaleY","naturalHeight","height","ctx","getContext","pixelRatio","window","devicePixelRatio","setTransform","imageSmoothingQuality","drawImage","x","y","base64Image","toDataURL","e","target","files"],"sources":["C:/Users/adiwi/dtc-admin/client/src/admin/imageresize.js"],"sourcesContent":["import { useState } from 'react';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nfunction Crop() {\r\nconst [src, setSrc] = useState(null);\r\nconst [crop, setCrop] = useState({ aspect: 16 / 9 });\r\nconst [image, setImage] = useState(null);\r\nconst [output, setOutput] = useState(null);\r\n\r\nconst selectImage = (file) => {\r\n\tsetSrc(URL.createObjectURL(file));\r\n};\r\n\r\nconst cropImageNow = () => {\r\n\tconst canvas = document.createElement('canvas');\r\n\tconst scaleX = image.naturalWidth / image.width;\r\n\tconst scaleY = image.naturalHeight / image.height;\r\n\tcanvas.width = crop.width;\r\n\tcanvas.height = crop.height;\r\n\tconst ctx = canvas.getContext('2d');\r\n\r\n\tconst pixelRatio = window.devicePixelRatio;\r\n\tcanvas.width = crop.width * pixelRatio;\r\n\tcanvas.height = crop.height * pixelRatio;\r\n\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\r\n\tctx.imageSmoothingQuality = 'high';\r\n\r\n\tctx.drawImage(\r\n\timage,\r\n\tcrop.x * scaleX,\r\n\tcrop.y * scaleY,\r\n\tcrop.width * scaleX,\r\n\tcrop.height * scaleY,\r\n\t0,\r\n\t0,\r\n\tcrop.width,\r\n\tcrop.height,\r\n\t);\r\n\t\r\n\t// Converting to base64\r\n\tconst base64Image = canvas.toDataURL('image/jpeg');\r\n\tsetOutput(base64Image);\r\n};\r\n\r\nreturn (\r\n\t<div className=\"App\">\r\n\t<center>\r\n\t\t<input\r\n\t\ttype=\"file\"\r\n\t\taccept=\"image/*\"\r\n\t\tonChange={(e) => {\r\n\t\t\tselectImage(e.target.files[0]);\r\n\t\t}}\r\n\t\t/>\r\n\t\t<br />\r\n\t\t<br />\r\n\t\t<div>\r\n\t\t{src && (\r\n\t\t\t<div>\r\n\t\t\t<ReactCrop src={src} onImageLoaded={setImage}\r\n\t\t\t\tcrop={crop} onChange={setCrop} />\r\n\t\t\t<br />\r\n\t\t\t<button onClick={cropImageNow}>Crop</button>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\t</div>\r\n\t\t)}\r\n\t\t</div>\r\n\t\t<div>{output && <img src={output} />}</div>\r\n\t</center>\r\n\t</div>\r\n);\r\n}\r\n\r\nexport default Crop;\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,SAAS,MAAM,kBAAkB;AACxC,OAAO,qCAAqC;AAAC;AAE7C,SAASC,IAAI,GAAG;EAAA;EAChB,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGJ,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAM,CAACK,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC;IAAEO,MAAM,EAAE,EAAE,GAAG;EAAE,CAAC,CAAC;EACpD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAMY,WAAW,GAAIC,IAAI,IAAK;IAC7BT,MAAM,CAACU,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC,CAAC;EAClC,CAAC;EAED,MAAMG,YAAY,GAAG,MAAM;IAC1B,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/C,MAAMC,MAAM,GAAGZ,KAAK,CAACa,YAAY,GAAGb,KAAK,CAACc,KAAK;IAC/C,MAAMC,MAAM,GAAGf,KAAK,CAACgB,aAAa,GAAGhB,KAAK,CAACiB,MAAM;IACjDR,MAAM,CAACK,KAAK,GAAGjB,IAAI,CAACiB,KAAK;IACzBL,MAAM,CAACQ,MAAM,GAAGpB,IAAI,CAACoB,MAAM;IAC3B,MAAMC,GAAG,GAAGT,MAAM,CAACU,UAAU,CAAC,IAAI,CAAC;IAEnC,MAAMC,UAAU,GAAGC,MAAM,CAACC,gBAAgB;IAC1Cb,MAAM,CAACK,KAAK,GAAGjB,IAAI,CAACiB,KAAK,GAAGM,UAAU;IACtCX,MAAM,CAACQ,MAAM,GAAGpB,IAAI,CAACoB,MAAM,GAAGG,UAAU;IACxCF,GAAG,CAACK,YAAY,CAACH,UAAU,EAAE,CAAC,EAAE,CAAC,EAAEA,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC;IACpDF,GAAG,CAACM,qBAAqB,GAAG,MAAM;IAElCN,GAAG,CAACO,SAAS,CACbzB,KAAK,EACLH,IAAI,CAAC6B,CAAC,GAAGd,MAAM,EACff,IAAI,CAAC8B,CAAC,GAAGZ,MAAM,EACflB,IAAI,CAACiB,KAAK,GAAGF,MAAM,EACnBf,IAAI,CAACoB,MAAM,GAAGF,MAAM,EACpB,CAAC,EACD,CAAC,EACDlB,IAAI,CAACiB,KAAK,EACVjB,IAAI,CAACoB,MAAM,CACV;;IAED;IACA,MAAMW,WAAW,GAAGnB,MAAM,CAACoB,SAAS,CAAC,YAAY,CAAC;IAClD1B,SAAS,CAACyB,WAAW,CAAC;EACvB,CAAC;EAED,oBACC;IAAK,SAAS,EAAC,KAAK;IAAA,uBACpB;MAAA,wBACC;QACA,IAAI,EAAC,MAAM;QACX,MAAM,EAAC,SAAS;QAChB,QAAQ,EAAGE,CAAC,IAAK;UAChB1B,WAAW,CAAC0B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC/B;MAAE;QAAA;QAAA;QAAA;MAAA,QACA,eACF;QAAA;QAAA;QAAA;MAAA,QAAM,eACN;QAAA;QAAA;QAAA;MAAA,QAAM,eACN;QAAA,UACCrC,GAAG,iBACH;UAAA,wBACA,QAAC,SAAS;YAAC,GAAG,EAAEA,GAAI;YAAC,aAAa,EAAEM,QAAS;YAC5C,IAAI,EAAEJ,IAAK;YAAC,QAAQ,EAAEC;UAAQ;YAAA;YAAA;YAAA;UAAA,QAAG,eAClC;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAQ,OAAO,EAAEU,YAAa;YAAA,UAAC;UAAI;YAAA;YAAA;YAAA;UAAA,QAAS,eAC5C;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAA;YAAA;YAAA;UAAA,QAAM;QAAA;UAAA;UAAA;UAAA;QAAA;MAEN;QAAA;QAAA;QAAA;MAAA,QACK,eACN;QAAA,UAAMN,MAAM,iBAAI;UAAK,GAAG,EAAEA;QAAO;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA,QAAO;IAAA;MAAA;MAAA;MAAA;IAAA;EACnC;IAAA;IAAA;IAAA;EAAA,QACH;AAEP;AAAC,GArEQR,IAAI;AAAA,KAAJA,IAAI;AAuEb,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}